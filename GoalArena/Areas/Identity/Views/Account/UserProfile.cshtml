@using GoalArena.ViewModels
@model UserProfileVM

<style>
    /* الخلفية الشفافة */
    .profile-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.4);
        display: flex;
        align-items: flex-start;
        justify-content: flex-end;
        padding: 80px 20px 20px 20px;
        z-index: 1050;
    }

    /* الكارد نفسه */
    .profile-card {
        background: #fff;
        border-radius: 20px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        width: 320px;
        padding: 20px;
        /* الانيميشن بالـ transition */
        opacity: 0;
        transform: translateY(-20px);
        transition: opacity 0.3s ease-out, transform 0.3s ease-out;
    }

        /* لما الصفحة تخلص تحميل */
        .profile-card.show {
            opacity: 1;
            transform: translateY(0);
        }

    /* زرار الإغلاق */
    .profile-close {
        position: absolute;
        top: 20px;
        right: 20px;
        background: transparent;
        border: none;
        font-size: 22px;
        cursor: pointer;
    }
</style>

<!-- البروفايل -->
<div class="profile-overlay" id="profileOverlay">
    <div class="profile-card text-center" id="profileCard">
        <button class="profile-close" onclick="goHome()">×</button>

        <img src="~/images/default-profile.png" class="rounded-circle mb-3" width="80" />
        <h4 class="fw-bold">@Model?.UserName</h4>
        <p class="text-muted">@Model?.Email</p>
        <hr />
    </div>
</div>

<script>
    // أول ما الصفحة تخلص تحميل نضيف الكلاس show علشان يشتغل transition
    window.addEventListener("DOMContentLoaded", function () {
        document.getElementById("profileCard").classList.add("show");
    });

    // رجوع للـ Home لما تدوس ×
    function goHome(){
        window.location.href = "/";
    }
</script>